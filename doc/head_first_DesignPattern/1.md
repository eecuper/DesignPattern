# 设计模式入门

## 设计原则

- 找出应用中需要变化之处，与不需要变化的代码分离，独立出来。

  ![](..\..\imgs\1.png)

  - 因为飞行和叫的动作容易发生改变，所以分离出FlyBehavior和QuackBehavior两个行为类

- 针对接口编程，而不是针对实现编程

  ![](..\..\imgs\2.png)

  - 针对超类型编程，而不是具体哪个对象
  - 超类型可能是抽象类也可能是interface接口

- 多用组合，少用继承

## 策略模式

- 作用

  - 一些算法相似，行为不同的逻辑，如果通过if...else...进行区分，会嵌套很多层。策略模式可以动态使用不同的行为。
  - 为了防止策略类增多，配合其他模式使用，如简单工厂模式。

- 策略模式类型

  - 普通策略模式

    - 抽象策略类

      ![](..\..\imgs\3.png)

    - 具体策略类

      ![](..\..\imgs\4.png)

    - 策略类统一入口

      ![](..\..\imgs\5.png)

    - 测试类

      ![](..\..\imgs\6.png)

  - 策略模式+简单工厂模式

    - 上方直接new对象的方法需要引入包，创建类。可以进行优化，引入简单工厂模式，传参即创建对象。

    - 工厂类

      ![](..\..\imgs\7.png)

    - 测试类

      ![](..\..\imgs\8.png)